<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>List of all persons</title>
    <link rel="stylesheet" href="../static/css/navigation.css" th:href="@{/css/navigation.css}" type="text/css">
    <link rel="stylesheet" href="../static/css/table.css" th:href="@{/css/table.css}" type="text/css">
    <link rel="shortcut icon" type="image/png" href="../static/book-icon.png" th:href="@{/book-icon.png}"/>
</head>
<body>
<nav>
    <ul class="menu">
        <li><img class="icon" src="../static/book-icon.png" th:src="@{/book-icon.png}"></li>
        <li><a class="menu-button" href="books.html" th:href="@{/}">Books</a></li>
        <li><a class="menu-button" href="authors.html" th:href="@{/authors}" >Authors</a></li>
        <li><a class="menu-button" href="genres.html" th:href="@{/genres}">Genres</a></li>
    </ul>
</nav>

<table class="list">
    <caption>Books</caption>
    <thead>
    <tr class="header">
        <td width="10px">ID</td>
        <td width="30%">Name</td>
        <td width="30%">Genre</td>
        <td width="30%">Authors</td>
        <td width="10px"></td>
    </tr>
    </thead>
    <tbody>
    <tr
            th:each="book, iStat : ${books}"
            th:class="${!iStat.odd}? 'even'"
            class="odd"
    >
        <td th:text="${book.getId()}">1</td>
        <td><a href="book_view.html" th:href="@{/book/view(id=${book.getId()})}" th:text="${book.name}">book 1</a></td>
        <td th:text="${book.getGenre().getNameEng()}">genre 1</td>
        <td>
            <div th:each="author : ${book.getAuthors()}" th:text="${author.getFirstName() + ' ' + author.getSecondName()}">author 1<br/></div>
        </td>
        <td><a href="books.html" th:href="@{/book/delete(id=${book.getId()})}"><button type="button">Delete</button></a></td>
    </tr>
    <tr th:if="${false}" class="even">
        <td>2</td>
        <td><a href="book_edit.html">The Invisible Man</a></td>
        <td>Science fiction</td>
        <td>Герберт Уэллс</td>
        <td><a href="books.html"><button type="button">Delete</button></a></td>
    </tr>
    </tbody>
</table>
<a class="book-delete" href="book_add.html" th:href="@{/book/add}"><button type="button">Add</button></a>
</body>
</html>